<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ABJ Tutorial</title>
    <script src="https://telegram.org/js/telegram-web-app.js?59"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Josefin+Sans:wght@400;500;600;700&family=Poppins:wght@400;600;700;800&display=swap" rel="stylesheet">
    <link rel="icon" type="image/jpg" href="ABJ.jpg">
    <style>
        /* CSS Variables for colors */
        :root {
            --background: 0 0% 100%;
            --foreground: 222.2 84% 4.9%;
            --card: 0 0% 100%;
            --card-foreground: 222.2 84% 4.9%;
            --primary: 221 83% 53%;
            --primary-foreground: 210 40% 98%;
            --secondary: 0 0% 96%;
            --secondary-foreground: 222.2 47.4% 11.2%;
            --muted: 0 0% 96%;
            --muted-foreground: 215.4 16.3% 46.9%;
            --accent: 217 92% 60%;
            --accent-foreground: 222.2 47.4% 11.2%;
            --destructive: 0 84.2% 60.2%;
            --destructive-foreground: 210 40% 98%;
            --border: 0 0% 100%;
            --input: 214.3 31.8% 91.4%;
            --ring: 221 83% 53%;
            --radius: 0.75rem;
            --brand-50: 213 100% 97%;
            --brand-100: 214 95% 93%;
            --brand-200: 213 97% 87%;
            --brand-300: 212 96% 78%;
            --brand-400: 213 94% 68%;
            --brand-500: 217 91% 60%;
            --brand-600: 221 83% 53%;
            --brand-700: 224 76% 48%;
            --brand-800: 226 71% 40%;
            --brand-900: 224 64% 33%;
        }

        /* Utility classes */
        .font-hero { 
            font-family: 'Josefin Sans', 'Poppins', ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, "Apple Color Emoji", "Segoe UI Emoji"; 
        }

        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
            border: none;
        }

        body {
            font-family: 'Poppins', sans-serif;
            background-color: white;
            color: hsl(var(--foreground));
            line-height: 1.6;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 2rem;
        }

        /* Button styles */
        .btn {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            gap: 0.5rem;
            padding: 0.75rem 1.5rem;
            border-radius: var(--radius);
            font-weight: 500;
            font-size: 0.875rem;
            cursor: pointer;
            transition: all 0.2s;
            text-decoration: none;
        }

        .btn-primary {
            background-color: hsl(var(--primary));
            color: hsl(var(--primary-foreground));
        }

        .btn-primary:hover {
            opacity: 0.9;
            transform: translateY(-2px);
        }

        .btn-secondary {
            background-color: transparent;
            color: hsl(var(--foreground));
            border: 1px solid hsl(var(--border));
        }

        .btn-secondary:hover {
            background-color: hsl(var(--muted));
        }

        .btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }

        /* Hero section */
        .hero {
            padding: 3rem 0 4rem;
            background-color: white;
        }

        .hero-tag {
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
            border-radius: 9999px;
            background-color: hsl(var(--brand-50));
            color: hsl(var(--brand-700));
            padding: 0.5rem 1rem;
            font-size: 0.75rem;
            margin-bottom: 1.5rem;
        }

        .hero-title {
            font-family: 'Josefin Sans', sans-serif;
            font-size: 2.5rem;
            font-weight: 800;
            line-height: 1.2;
            margin-bottom: 1.5rem;
        }

        @media (min-width: 768px) {
            .hero-title {
                font-size: 3.5rem;
            }
        }

        .hero-description {
            background-color: white;
            border-radius: 1rem;
            padding: 1.5rem;
            margin-bottom: 1.5rem;
            max-width: 100%;
        }

        @media (min-width: 768px) {
            .hero-description {
                padding: 1.75rem;
            }
        }

        .hero-description p {
            font-family: 'Josefin Sans', sans-serif;
            color: hsl(var(--foreground) / 0.9);
            font-size: 1.125rem;
            line-height: 1.8;
        }

        .stats-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 1rem;
            margin-top: 2rem;
        }

        @media (min-width: 768px) {
            .stats-grid {
                grid-template-columns: repeat(4, 1fr);
            }
        }

        .stat-card {
            border-radius: 0.75rem;
            background-color: white;
            padding: 1.25rem;
            text-align: center;
        }

        .stat-number {
            font-family: 'Josefin Sans', sans-serif;
            font-size: 1.5rem;
            font-weight: 800;
            color: hsl(var(--brand-600));
        }

        .stat-text {
            font-size: 0.875rem;
            color: hsl(var(--muted-foreground));
            margin-top: 0.5rem;
        }

        .hero-actions {
            display: flex;
            flex-wrap: wrap;
            gap: 1rem;
            margin-top: 2rem;
        }

        /* Navigation cards */
        .nav-cards {
            padding: 3rem 0;
            background-color: white;
        }

        .section-title {
            font-size: 2rem;
            font-weight: 700;
            margin-bottom: 2rem;
            text-align: center;
        }

        .cards-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 1.5rem;
        }

        @media (min-width: 768px) {
            .cards-grid {
                grid-template-columns: repeat(4, 1fr);
            }
        }

        .card {
            border-radius: 1rem;
            background-color: white;
            padding: 2rem 1.5rem;
            position: relative;
            text-align: center;
            transition: transform 0.3s ease;
        }

        .card:hover {
            transform: translateY(-5px);
        }

        .card-icon {
            color: hsl(var(--brand-600));
            margin-bottom: 1rem;
            font-size: 2rem;
        }

        .card-title {
            font-weight: 600;
            margin-bottom: 0.5rem;
            font-size: 1.125rem;
        }

        .card-desc {
            font-size: 0.875rem;
            color: hsl(var(--muted-foreground));
        }

        /* Samples section */
        .samples {
            padding: 3rem 0;
            background-color: white;
        }

        .samples-grid {
            display: grid;
            gap: 2rem;
        }

        @media (min-width: 1024px) {
            .samples-grid {
                grid-template-columns: repeat(2, 1fr);
            }
        }

        .sample-card {
            border-radius: 1rem;
            background-color: white;
            padding: 0;
            overflow: hidden;
            border: 1px solid hsl(var(--border));
        }

        .sample-title {
            font-weight: 600;
            font-size: 1.25rem;
            margin-bottom: 1rem;
            padding: 0 1.5rem;
            padding-top: 1.5rem;
        }

        .video-container {
            aspect-ratio: 16/9;
            border-radius: 0.5rem;
            overflow: hidden;
            background-color: rgba(0, 0, 0, 0.8);
            margin: 0 1.5rem;
        }

        .video-container iframe {
            width: 100%;
            height: 100%;
        }

        .sample-desc {
            padding: 1rem 1.5rem;
            font-size: 0.875rem;
            color: hsl(var(--muted-foreground));
        }

        /* PDF Cards */
        .pdf-card {
            border-radius: 1rem;
            background-color: white;
            padding: 1.5rem;
            border: 1px solid hsl(var(--border));
        }

        .pdf-card h3 {
            font-weight: 600;
            font-size: 1.125rem;
            margin-bottom: 0.75rem;
        }

        .pdf-card p {
            font-size: 0.875rem;
            color: hsl(var(--muted-foreground));
            margin-bottom: 1rem;
        }

        .pdf-grid {
            display: grid;
            gap: 1.5rem;
            margin-top: 2rem;
        }

        @media (min-width: 768px) {
            .pdf-grid {
                grid-template-columns: repeat(2, 1fr);
            }
        }

        /* Testimonials section - CAROUSEL VERSION */
        .testimonials {
            padding: 3rem 0;
            background-color: white;
            position: relative;
        }

        .carousel-container {
            position: relative;
            max-width: 800px;
            margin: 0 auto;
            overflow: hidden;
            border-radius: 1rem;
        }

        .carousel-track {
            display: flex;
            transition: transform 0.5s ease-in-out;
        }

        .testimonial-item {
            flex: 0 0 100%;
            padding: 0 1rem;
        }

        @media (min-width: 768px) {
            .testimonial-item {
                flex: 0 0 50%;
            }
        }

        .testimonial-card {
            background: white;
            border-radius: 1rem;
            padding: 2rem;
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.1);
            border: 1px solid hsl(var(--border));
            height: 100%;
            display: flex;
            flex-direction: column;
            transition: transform 0.3s ease;
        }

        .testimonial-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 30px rgba(0, 0, 0, 0.15);
        }

        .testimonial-header {
            display: flex;
            align-items: center;
            gap: 0.75rem;
            margin-bottom: 1.5rem;
        }

        .avatar {
            width: 3rem;
            height: 3rem;
            border-radius: 50%;
            overflow: hidden;
            background-color: hsl(var(--brand-600));
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 0.875rem;
            font-weight: bold;
            flex-shrink: 0;
        }

        .avatar img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        .testimonial-name {
            font-size: 1rem;
            font-weight: 600;
            color: #1e293b;
        }

        .testimonial-stars {
            color: #f59e0b;
            font-size: 0.875rem;
            line-height: 1;
            margin-top: 0.25rem;
        }

        .testimonial-quote {
            font-size: 0.95rem;
            line-height: 1.7;
            color: #1e293b;
            flex-grow: 1;
            position: relative;
            padding-left: 1.5rem;
        }

        .testimonial-quote:before {
            content: """;
            position: absolute;
            left: 0;
            top: -0.5rem;
            font-size: 3rem;
            color: hsl(var(--brand-100));
            font-family: Georgia, serif;
            line-height: 1;
        }

        .carousel-btn {
            position: absolute;
            top: 50%;
            transform: translateY(-50%);
            background: white;
            border: none;
            width: 3rem;
            height: 3rem;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
            z-index: 10;
            transition: all 0.3s ease;
        }

        .carousel-btn:hover {
            background: hsl(var(--brand-50));
            transform: translateY(-50%) scale(1.1);
        }

        .carousel-btn--left {
            left: 1rem;
        }

        .carousel-btn--right {
            right: 1rem;
        }

        .carousel-btn svg {
            width: 1.5rem;
            height: 1.5rem;
            color: hsl(var(--brand-600));
        }

        .carousel-dots {
            display: flex;
            justify-content: center;
            margin-top: 2rem;
            gap: 0.5rem;
        }

        .carousel-dot {
            width: 10px;
            height: 10px;
            border-radius: 50%;
            background: hsl(var(--muted));
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .carousel-dot.active {
            background: hsl(var(--brand-600));
            transform: scale(1.2);
        }

        /* Footer */
        .footer {
            margin-top: 0;
            background-color: white;
        }

        .footer-content {
            padding: 3rem 0 2rem;
        }

        .footer-grid {
            display: grid;
            gap: 2rem;
        }

        @media (min-width: 768px) {
            .footer-grid {
                grid-template-columns: repeat(2, 1fr);
                align-items: center;
            }
        }

        .footer-title {
            font-size: 1.5rem;
            font-weight: 700;
        }

        .footer-description {
            margin-top: 0.5rem;
            color: hsl(var(--muted-foreground));
            max-width: 100%;
            font-size: 1rem;
        }

        .social-links {
            display: flex;
            flex-wrap: wrap;
            gap: 0.75rem;
        }

        .social-link {
            width: 3rem;
            height: 3rem;
            display: grid;
            place-items: center;
            border-radius: 50%;
            background-color: white;
            text-decoration: none;
            transition: all 0.2s;
        }

        .social-link:hover {
            transform: translateY(-2px);
        }

        .social-icon {
            width: 1.5rem;
            height: 1.5rem;
        }

        .footer-copyright {
            margin-top: 2rem;
            font-size: 0.875rem;
            color: hsl(var(--muted-foreground));
            text-align: center;
        }

        /* Loading and verification */
        .loading-overlay {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: rgba(255, 255, 255, 0.9);
            z-index: 9999;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .loading-content {
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        .loading-logo {
            height: 4rem;
            width: 4rem;
            border-radius: 0.75rem;
            object-fit: cover;
        }

        .loading-title {
            margin-top: 0.75rem;
            font-size: 1.125rem;
            font-weight: 600;
        }

        .loading-subtitle {
            margin-top: 0.5rem;
            font-size: 0.75rem;
            color: hsl(var(--muted-foreground));
        }

        .loading-spinner {
            margin-top: 1.5rem;
            height: 2rem;
            width: 2rem;
            border-radius: 9999px;
            border: 2px solid hsl(var(--brand-500));
            border-top-color: transparent;
            animation: spin 1s linear infinite;
        }

        @keyframes spin {
            to {
                transform: rotate(360deg);
            }
        }

        /* Telegram notice */
        .telegram-notice {
            min-height: 75vh;
            display: flex;
            align-items: center;
            justify-content: center;
            background-color: white;
        }

        .notice-content {
            text-align: center;
            max-width: 28rem;
        }

        .notice-title {
            font-size: 1.5rem;
            font-weight: 700;
            margin-bottom: 0.5rem;
        }

        .notice-text {
            font-size: 0.875rem;
            color: hsl(var(--muted-foreground));
            margin-bottom: 1rem;
        }

        /* Grid layout for hero */
        @media (min-width: 1024px) {
            .hero-grid {
                display: grid;
                grid-template-columns: repeat(2, 1fr);
                gap: 3rem;
                align-items: center;
            }
        }

        /* More Samples Button - Enhanced */
        .more-samples {
            text-align: center;
            margin-top: 3rem;
        }

        .more-samples .btn {
            padding: 1rem 2rem;
            font-size: 1rem;
            font-weight: 600;
            background: linear-gradient(135deg, hsl(var(--brand-500)), hsl(var(--brand-700)));
            color: white;
            border-radius: 2rem;
            box-shadow: 0 8px 20px rgba(37, 99, 235, 0.3);
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }

        .more-samples .btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 12px 25px rgba(37, 99, 235, 0.4);
        }

        .more-samples .btn:after {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(135deg, rgba(255,255,255,0.2), transparent);
            transform: translateX(-100%);
            transition: transform 0.5s ease;
        }

        .more-samples .btn:hover:after {
            transform: translateX(100%);
        }
    </style>
</head>
<body>
    <div id="app">
        <!-- Telegram verification overlay -->
        <div id="verification-overlay" class="loading-overlay" style="display: none;">
            <div class="loading-content">
                <img src="/image.png" alt="ABJ" class="loading-logo">
                <div class="loading-title">Opening ABJ Tutorial‚Ä¶</div>
                <div class="loading-subtitle">Please wait while we connect your Telegram account</div>
                <div class="loading-spinner"></div>
            </div>
        </div>

        <!-- Telegram notice (shown when not in Telegram) -->
        <div id="telegram-notice" class="telegram-notice" style="display: none;">
            <div class="notice-content">
                <div class="notice-title">ABJ Tutorial</div>
                <div class="notice-text">This site works only via the Telegram Mini App. Please open our Telegram bot and tap <b>Open</b> to continue.</div>
                <a id="telegram-bot-link" class="btn btn-primary" href="#" target="_blank" rel="noreferrer">Open Telegram Bot</a>
            </div>
        </div>

        <!-- Main content (shown when in Telegram) -->
        <div id="main-content" style="display: none;">
            <!-- Hero Section -->
            <section class="hero">
                <div class="container">
                    <div class="hero-grid">
                        <div class="hero-content">
                            <div class="hero-tag">ABJ Tutorial ‚Ä¢ Trusted by Students</div>
                            <h1 class="hero-title font-hero">Welcome to ABJ Tutorial</h1>
                            <div class="hero-description">
                                <p>Since 2023 (2016 E.C.), ABJ Tutorial has helped Ethiopian university freshmen learn simply and effectively offering past exams with step‚Äëby‚Äëstep solutions, concise notes, and clear explanations so students can prepare smarter and achieve higher results.</p>
                                <div class="stats-grid">
                                    <div class="stat-card">
                                        <div class="stat-number">1,000+</div>
                                        <div class="stat-text">Students taught in a short time</div>
                                    </div>
                                    <div class="stat-card">
                                        <div class="stat-number">95%</div>
                                        <div class="stat-text">Scored above 3.0 GPA</div>
                                    </div>
                                    <div class="stat-card">
                                        <div class="stat-number">99%+</div>
                                        <div class="stat-text">Of 4.0 scorers at Jimma were ABJ students</div>
                                    </div>
                                    <div class="stat-card">
                                        <div class="stat-number">1M+</div>
                                        <div class="stat-text">YouTube views across our lessons</div>
                                    </div>
                                </div>
                            </div>
                            <div class="hero-actions">
                                <button id="payment-btn" class="btn btn-primary">Get Started</button>
                                <button id="demo-btn" class="btn btn-secondary">Start Demo</button>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Navigation Cards -->
            <section class="nav-cards">
                <div class="container">
                    <h2 class="section-title">What ABJ Tutorial Covers</h2>
                    <div class="cards-grid">
                        <div class="card">
                            <div class="card-icon">‚ñ∂Ô∏è</div>
                            <h3 class="card-title">Video Tutorials</h3>
                            <p class="card-desc">Step-by-step videos.</p>
                        </div>
                        <div class="card">
                            <div class="card-icon">üë•</div>
                            <h3 class="card-title">Audio Lessons</h3>
                            <p class="card-desc">Learn on the go.</p>
                        </div>
                        <div class="card">
                            <div class="card-icon">‚û°Ô∏è</div>
                            <h3 class="card-title">Text Notes</h3>
                            <p class="card-desc">Summarized notes.</p>
                        </div>
                        <div class="card">
                            <div class="card-icon">üéÅ</div>
                            <h3 class="card-title">Invite & Earn</h3>
                            <p class="card-desc">Get rewards.</p>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Samples Section -->
            <section id="samples" class="samples">
                <div class="container">
                    <h2 class="section-title">Tutorial Samples</h2>
                    <div class="samples-grid">
                        <div class="sample-card">
                            <h3 class="sample-title">Civics: Deontological Ethics</h3>
                            <div class="video-container">
                                <iframe src="https://www.youtube.com/embed/xFRevkVzPFk?si=h8-fjoB-WzlrG5mm" title="ABJ Sample Video" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen></iframe>
                            </div>
                            <p class="sample-desc">CIVICS CHAPTER TWO ‚Äî Deontological Normative Ethics: Deontological Ethics</p>
                        </div>
                        <div class="sample-card">
                            <h3 class="sample-title">Biology for freshman students</h3>
                            <div class="video-container">
                                <iframe src="https://www.youtube.com/embed/8IcjSb1uzco?si=gyYW-_AOYjlOwRTK" title="ABJ Sample Video" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen></iframe>
                            </div>
                            <p class="sample-desc">Biology for freshman students chapter 2</p>
                        </div>
                    </div>
                    
                    <!-- PDF Samples Section -->
                    <div class="pdf-grid">
                        <div class="pdf-card">
                            <h3>GENERAL BIOLOGY MID TERM EXAM PREPARED BY ABJ</h3>
                            <p>Open exam PDF</p>
                            <div>
                                <a href="GENERAL BIOLOGY MID TERM EXM PREPARED BY ABJ.pdf" target="_blank" rel="noreferrer" class="btn btn-primary">Click Here</a>
                            </div>
                        </div>
                        <div class="pdf-card">
                            <h3>LOGIC EXAM QUESTION</h3>
                            <p>Open exam PDF</p>
                            <div>
                                <a href="Logic Exam question ABJ Tube.pdf" target="_blank" rel="noreferrer" class="btn btn-primary">Click Here</a>
                            </div>
                        </div>
                    </div>
                    
                    <!-- More Samples Button - Enhanced -->
                    <div class="more-samples">
                        <a href="https://t.me/ABJSAMPLES" target="_blank" class="btn">More Samples on Telegram Channel</a>
                    </div>
                </div>
            </section>

            <!-- Testimonials Section - CAROUSEL VERSION -->
            <section class="testimonials">
                <div class="container">
                    <h2 class="section-title">What Students Say About ABJ Tutorial</h2>
                    <div class="carousel-container">
                        <button class="carousel-btn carousel-btn--left">
                            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor">
                                <path d="M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"/>
                            </svg>
                        </button>
                        <div class="carousel-track" id="carousel-track">
                            <!-- Testimonials will be populated here by JavaScript -->
                        </div>
                        <button class="carousel-btn carousel-btn--right">
                            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor">
                                <path d="M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"/>
                            </svg>
                        </button>
                    </div>
                    <div class="carousel-dots" id="carousel-dots">
                        <!-- Dots will be populated here by JavaScript -->
                    </div>
                </div>
            </section>
            
            <!-- Footer -->
            <footer class="footer">
                <div class="container">
                    <div class="footer-content">
                        <div class="footer-grid">
                            <div>
                                <h3 class="footer-title">Contact ABJ</h3>
                                <p class="footer-description">
                                    We're here to help you learn smarter and achieve more. Reach out to us on social media or phone anytime.
                                </p>
                            </div>
                            <div class="social-links">
                                <a aria-label="Telegram" href="https://t.me/Mejido" target="_blank" rel="noreferrer" class="social-link">
                                    <svg viewBox="0 0 24 24" class="social-icon" fill="#0088cc">
                                        <path d="M9.999 15.2 9.9 19c.4 0 .6-.2.8-.4l2-1.9 4.1 3c.8.5 1.3.2 1.5-.7l2.7-12.6c.2-.9-.3-1.3-1.1-1L2.8 9.6c-.9.3-.9.8-.2 1l4.3 1.3 10.1-6.4c.5-.3.9-.1.6.2" />
                                    </svg>
                                </a>
                                <a aria-label="Instagram" href="https://www.instagram.com/abdulmejidsehab?igsh=MW1wcDc1Ynp3eTI3Mw==" target="_blank" rel="noreferrer" class="social-link">
                                    <svg viewBox="0 0 24 24" class="social-icon" fill="#E4405F">
                                        <path d="M7.75 2h8.5A5.75 5.75 0 0 1 22 7.75v8.5A5.75 5.75 0 0 1 16.25 22h-8.5A5.75 5.75 0 0 1 2 16.25v-8.5A5.75 5.75 0 0 1 7.75 2zm0 1.5A4.25 4.25 0 0 0 3.5 7.75v8.5A4.25 4.25 0 0 0 7.75 20.5h8.5A4.25 4.25 0 0 0 20.5 16.25v-8.5A4.25 4.25 0 0 0 16.25 3.5h-8.5zM12 7a5 5 0 1 1 0 10 5 5 0 0 1 0-10zm0 1.5a3.5 3.5 0 1 0 .001 7.001A3.5 3.5 0 0 0 12 8.5zm5.1-2.15a1.1 1.1 0 1 1 0 2.2 1.1 1.1 0 0 1 0-2.2z"/>
                                    </svg>
                                </a>
                                <a aria-label="YouTube" href="https://youtube.com/@abjtube1?si=z1AtnWJoTwVp9jcT" target="_blank" rel="noreferrer" class="social-link">
                                    <svg viewBox="0 0 24 24" class="social-icon" fill="#FF0000">
                                        <path d="M23.5 6.2s-.2-1.7-.8-2.4c-.8-.8-1.6-.8-2-1C17.2 2.5 12 2.5 12 2.5h0s-5.2 0-8.7.3c-.5.1-1.3.1-2 .9C.7 4.5.5 6.2.5 6.2S0 8.2 0 10.2v1.7c0 2 .5 4  .5 4s.2 1.7.8 2.4c.8.8 1.9.8 2.4.9 1.8.2 7.7.3 8.3.3h.2c.6 0 6.5-.1 8.3-.3.5-.1 1.6-.1 2.4-.9.6-.7.8-2.4.8-2.4s.5-2 .5-4V10.2c0-2-.5-4-.5-4zM9.5 13.6V7.9l6.1 2.9-6.1 2.8z" />
                                    </svg>
                                </a>
                                <a aria-label="TikTok" href="https://www.tiktok.com/@jimma_university?_t=ZM-8zMiG4tMPAe&_r=1" target="_blank" rel="noreferrer" class="social-link">
                                    <svg viewBox="0 0 24 24" class="social-icon" fill="#000000">
                                        <path d="M21 8.1a6.7 6.7 0 0 1-4-1.3v7.2a6 6 0 1 1-6-6 6.1 6.1 0 0 1 1 .1v3.1a3 3 0 1 0 2 2.8V2h3a6.7 6.7 0 0 0 4 4v2.1z" />
                                    </svg>
                                </a>
                                <a aria-label="Phone" href="tel:+251927429565" class="social-link">
                                    <svg viewBox="0 0 24 24" class="social-icon" fill="#25D366">
                                        <path d="M22 16.9v3a2 2 0 0 1-2.2 2 19.8 19.8 0 0 1-8.6-3.1 19.4 19.4 0 0 1-6-6A19.7 19.7 0 0 1 2.1 4.2 2 2 0 0 1 4.1 2h3a2 2 0 0 1 2 1.7c.1.9.3 1.8.6 2.6a2 2 0 0 1-.5 2.1L8.2 9.4a16 16 0 0 0 6 6l1.9-1c.6-.3 1.4-.3 2 .2.8.3 1.7.5 2.6.6A2 2 0 0 1 22 16.9z" />
                                    </svg>
                                </a>
                            </div>
                        </div>
                        <div class="footer-copyright">¬© <span id="current-year"></span> ABJ Tutorial. All rights reserved.</div>
                    </div>
                </div>
            </footer>
        </div>
    </div>

    <script>
        // Testimonials data
        const testimonials = [
            { name: "Forwarded from ü¶ã", quote: "Bemejemerya thank you so much I gained a lot of things from ABJ tutorial ‚Äî the tutors, the questions and the exams were really great. It made me so confident. I'm very glad I joined!" },
            { name: "Forwarded from Sura", quote: "Thank you very much ABJ" },
            { name: "Forwarded from Haaroneu", quote: "Silagegnehuchiu betam des blognal üôèüôèüôèüôèüôè" },
            { name: "Forwarded from Sura", quote: "Am proud to be one of your students" },
            { name: "Forwarded from Patience", quote: "First of all‚Ä¶ betaaaam enamesegnallen. Betam yeserachut arif‚Ä¶ previous exams, notes and explanations were amazing. English PDFs helped me a lot. Arif new bye asbalew" },
            { name: "Forwarded from ÏïÑÏä§ÌÖî", quote: "Your channel has been a game changer! You simplify complex subjects and make them understandable. Previous exams with answers helped me a lot. Keep up the great work! üòä" },
            { name: "Forwarded from Feni", quote: "Endene hasab sisex yeneberew‚Ä¶ bezu mesrat yexebekal‚Ä¶ even leloch tutorial yemixekemutn like A+. Overall Arif tutorial new!" },
            { name: "Forwarded from Sura", quote: "And am GREATFULL for all your works!" },
            { name: "Forwarded from W@D üíéüíé", quote: "ABJ·äï ·ã´·àµ·åÄ·àò·à≠·ä≠ ‚Ä¶ ·â†·å£·àù ·ã®·àù·âµ·ã∞·äê·âÅ ·äì·âΩ·àÅ ‚Ä¶ ·àõ·äï·àù ·ã®·çç·à®·àΩ ·â∞·àõ·à™ ·ã≠·àÖ·äï ·âµ·â∂·à≠ ·â¢·ä®·â≥·â∞·àç ·ã≠·àà·ãà·å£·àç! üôèüòç" },
            { name: "Forwarded from Benjamin", quote: "ABJ letbbrachu btam enamesgnalen btam redtachugnal Thanks üôèüòá" },
            { name: "Forwarded from Milki Mk", quote: "I believe, if anyone joins ABJ tutorial he/she can realize childhood dreams‚Ä¶ I'm 2nd year banking and finance. ABJ is the best üëåüëç" },
            { name: "Forwarded from Endalk ", quote: "·ä•·à∫·ç¢ ABJ tutorial ·â†·å£·àù ·å†·âÖ·àû·äõ·àç‚Ä¶ ·ã®·àù·çà·àç·åà·ãç department ·ä•·äï·ãµ·åà·â£ ·ä†·åà·ãò·äù ‚Ä¶ ·àà·àö·àò·å°·âµ ·â∞·àõ·à™·ãé·âΩ ·â±·â∂·à©·äï ·ä•·äï·ã∞·àù·âµ·à∞·å° ·ä†·àç·å†·à´·å†·à≠·àù·ç¢" },
            { name: "Forwarded from Benjamin", quote: "Aw ene aysfelgm bye brase ergtegna nberku üòÖ ‚Ä¶ leFetena btam redtachugnal ‚Ä¶ ahunm bertu" },
            { name: "Forwarded from Ferdews", quote: "Ene Alhamdulilah redtognal new ‚Ä¶ at least tyaqe awetat lemaweq yeredal ‚Ä¶ Allah kenante gar yehun" },
        ];

        // Main application logic
        document.addEventListener('DOMContentLoaded', function() {
            // Set current year in footer
            document.getElementById('current-year').textContent = new Date().getFullYear();
            
            // Initialize carousel
            initCarousel();
            
            // State variables
            let isTelegram = false;
            let botUser = 'abjjubot'; // Your bot username
            let userId = localStorage.getItem('abj_payment_id') || '';
            let payStatus = 'none';

            // DOM elements
            const telegramNotice = document.getElementById('telegram-notice');
            const mainContent = document.getElementById('main-content');
            const verificationOverlay = document.getElementById('verification-overlay');
            const telegramBotLink = document.getElementById('telegram-bot-link');
            const paymentBtn = document.getElementById('payment-btn');
            const demoBtn = document.getElementById('demo-btn');

            // Initialize carousel function - FIXED VERSION
            function initCarousel() {
                const carouselTrack = document.getElementById('carousel-track');
                const carouselDots = document.getElementById('carousel-dots');
                const logoSrc = "ABJ.jpg";
                let currentSlide = 0;
                let slidesPerView = 1;
                
                // Determine slides per view based on screen size
                function updateSlidesPerView() {
                    slidesPerView = window.innerWidth >= 768 ? 2 : 1;
                    renderTestimonials();
                }
                
                // Create testimonials - FIXED: No duplication
                function renderTestimonials() {
                    carouselTrack.innerHTML = '';
                    carouselDots.innerHTML = '';
                    
                    const totalSlides = Math.ceil(testimonials.length / slidesPerView);
                    
                    // Create all slides
                    for (let i = 0; i < totalSlides; i++) {
                        const slide = document.createElement('div');
                        slide.className = 'carousel-track'; // This should be the slide container
                        slide.style.display = 'flex';
                        slide.style.flex = `0 0 100%`;
                        
                        // Add testimonials to this slide
                        for (let j = 0; j < slidesPerView; j++) {
                            const index = i * slidesPerView + j;
                            if (index >= testimonials.length) break;
                            
                            const testimonial = testimonials[index];
                            const testimonialElement = document.createElement('div');
                            testimonialElement.className = 'testimonial-item';
                            testimonialElement.innerHTML = `
                                <div class="testimonial-card">
                                    <div class="testimonial-header">
                                        <div class="avatar">
                                            <img src="${logoSrc}" alt="ABJ" onerror="this.parentElement.innerHTML='ABJ'">
                                        </div>
                                        <div>
                                            <div class="testimonial-name">${testimonial.name}</div>
                                            <div class="testimonial-stars">‚òÖ‚òÖ‚òÖ‚òÖ‚òÖ</div>
                                        </div>
                                    </div>
                                    <p class="testimonial-quote">${testimonial.quote}</p>
                                </div>
                            `;
                            slide.appendChild(testimonialElement);
                        }
                        
                        carouselTrack.appendChild(slide);
                        
                        // Create dot
                        const dot = document.createElement('div');
                        dot.className = 'carousel-dot';
                        if (i === 0) dot.classList.add('active');
                        dot.addEventListener('click', () => goToSlide(i));
                        carouselDots.appendChild(dot);
                    }
                    
                    updateCarousel();
                }
                
                // Update carousel position
                function updateCarousel() {
                    const totalSlides = Math.ceil(testimonials.length / slidesPerView);
                    carouselTrack.style.transform = `translateX(-${currentSlide * 100}%)`;
                    
                    // Update dots
                    const dots = document.querySelectorAll('.carousel-dot');
                    dots.forEach((dot, index) => {
                        dot.classList.toggle('active', index === currentSlide);
                    });
                }
                
                // Navigate to specific slide
                function goToSlide(slideIndex) {
                    const totalSlides = Math.ceil(testimonials.length / slidesPerView);
                    currentSlide = (slideIndex + totalSlides) % totalSlides;
                    updateCarousel();
                }
                
                // Next slide
                function nextSlide() {
                    const totalSlides = Math.ceil(testimonials.length / slidesPerView);
                    currentSlide = (currentSlide + 1) % totalSlides;
                    updateCarousel();
                }
                
                // Previous slide
                function prevSlide() {
                    const totalSlides = Math.ceil(testimonials.length / slidesPerView);
                    currentSlide = (currentSlide - 1 + totalSlides) % totalSlides;
                    updateCarousel();
                }
                
                // Event listeners for buttons
                document.querySelector('.carousel-btn--left').addEventListener('click', prevSlide);
                document.querySelector('.carousel-btn--right').addEventListener('click', nextSlide);
                
                // Auto slide every 5 seconds
                let slideInterval = setInterval(nextSlide, 5000);
                
                // Pause auto slide on hover
                carouselTrack.addEventListener('mouseenter', () => clearInterval(slideInterval));
                carouselTrack.addEventListener('mouseleave', () => {
                    slideInterval = setInterval(nextSlide, 5000);
                });
                
                // Handle window resize
                window.addEventListener('resize', updateSlidesPerView);
                
                // Initialize
                updateSlidesPerView();
            }

            // Check if we're in Telegram
            function checkTelegramEnvironment() {
                try {
                    isTelegram = !!(window.Telegram && window.Telegram.WebApp);
                } catch (error) {
                    isTelegram = false;
                }

                if (!isTelegram) {
                    telegramNotice.style.display = 'flex';
                    mainContent.style.display = 'none';
                    telegramBotLink.href = `https://t.me/${botUser}`;
                } else {
                    telegramNotice.style.display = 'none';
                    verificationOverlay.style.display = 'flex';
                    
                    // Initialize Telegram WebApp
                    const tg = window.Telegram.WebApp;
                    tg.expand();
                    
                    // Continue with user verification
                    verifyUser();
                }
            }

            // Verify user and check admin status
            function verifyUser() {
                const tg = window.Telegram.WebApp;
                let telegramUserId = null;
                let initData = tg.initData;

                // Try to get user ID from initDataUnsafe
                if (tg.initDataUnsafe && tg.initDataUnsafe.user && tg.initDataUnsafe.user.id) {
                    telegramUserId = tg.initDataUnsafe.user.id;
                }

                // Fallback: parse from initData
                if (!telegramUserId && initData) {
                    try {
                        const params = new URLSearchParams(initData);
                        const userRaw = params.get("user");
                        if (userRaw) {
                            const user = JSON.parse(userRaw);
                            if (user && user.id) telegramUserId = user.id;
                        }
                    } catch (error) {
                        console.error('Error parsing initData:', error);
                    }
                }

                if (telegramUserId) {
                    const uid = String(telegramUserId);
                    localStorage.setItem("abj_payment_id", uid);
                    userId = uid;

                    // Store user's display name
                    try {
                        const tgUser = tg.initDataUnsafe.user || 
                            (initData ? JSON.parse(new URLSearchParams(initData).get('user') || '{}') : {});
                        const displayName = [tgUser.first_name, tgUser.last_name]
                            .filter(Boolean).join(' ') || tgUser.username || '';
                        if (displayName && !localStorage.getItem('abj_user_name')) {
                            localStorage.setItem('abj_user_name', displayName);
                        }
                    } catch (error) {
                        console.error('Error storing user name:', error);
                    }

                    // Check if user is admin or creator
                    const admins = [950747714, 5994127216]; // Your admin IDs
                    const creators = []; // Add creator IDs if any
                    
                    const isAdmin = admins.includes(parseInt(telegramUserId));
                    const isCreator = creators.includes(parseInt(telegramUserId));
                    
                    if (isAdmin) {
                        localStorage.setItem("abj_role", "admin");
                        window.location.href = "/admin";
                    } else if (isCreator) {
                        localStorage.setItem("abj_role", "creator");
                        window.location.href = "/Creator";
                    } else {
                        localStorage.removeItem("abj_role");
                        // Normal user - show main content
                        showMainContent();
                    }
                } else {
                    // No Telegram user ID detected
                    showMainContent();
                }
            }

            // Show main content
            function showMainContent() {
                verificationOverlay.style.display = 'none';
                mainContent.style.display = 'block';
                
                // Check payment status
                checkPaymentStatus();
            }

            // Check payment status
            function checkPaymentStatus() {
                if (!userId) {
                    payStatus = "none";
                    updatePaymentButton();
                    return;
                }
                
                // Simulate API call - replace with actual API
                setTimeout(() => {
                    const status = localStorage.getItem(`abj_payment_status_${userId}`) || 'none';
                    payStatus = status;
                    updatePaymentButton();
                }, 500);
            }

            // Update payment button based on status
            function updatePaymentButton() {
                if (!paymentBtn) return;
                
                switch (payStatus) {
                    case "none":
                        paymentBtn.textContent = "Get Started";
                        paymentBtn.disabled = false;
                        paymentBtn.className = "btn btn-primary";
                        // When clicked, close mini app and open bot with payment parameter
                        paymentBtn.onclick = function() {
                            if (isTelegram) {
                                // Close mini app and open bot with start parameter
                                window.Telegram.WebApp.close();
                                window.Telegram.WebApp.openTelegramLink(`https://t.me/${botUser}?start=payment`);
                            } else {
                                window.open(`https://t.me/${botUser}?start=payment`, '_blank');
                            }
                        };
                        break;
                    case "pending":
                        paymentBtn.textContent = "Pending approval";
                        paymentBtn.disabled = true;
                        paymentBtn.className = "btn btn-secondary";
                        break;
                    case "approved":
                        paymentBtn.textContent = "Go to Learning";
                        paymentBtn.disabled = false;
                        paymentBtn.className = "btn btn-primary";
                        paymentBtn.onclick = function() {
                            window.location.href = "/dashboard";
                        };
                        break;
                    case "rejected":
                        paymentBtn.textContent = "Get Started";
                        paymentBtn.disabled = false;
                        paymentBtn.className = "btn btn-primary";
                        paymentBtn.onclick = function() {
                            if (isTelegram) {
                                window.Telegram.WebApp.close();
                                window.Telegram.WebApp.openTelegramLink(`https://t.me/${botUser}?start=payment`);
                            } else {
                                window.open(`https://t.me/${botUser}?start=payment`, '_blank');
                            }
                        };
                        break;
                }
            }

            // Demo button scroll to samples
            if (demoBtn) {
                demoBtn.addEventListener('click', function() {
                    document.getElementById('samples').scrollIntoView({ behavior: 'smooth' });
                });
            }

            // Start the application
            checkTelegramEnvironment();
        });
    </script>
</body>
</html>
